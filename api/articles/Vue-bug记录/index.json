{"title":"Vue bug记录","uid":"2d463effdc98de85ee0a0b453c60fead","slug":"Vue-bug记录/index","date":"2021-05-08T16:00:00.000Z","updated":"2023-05-08T09:36:34.536Z","comments":true,"path":"api/articles/Vue-bug记录/index.json","keywords":null,"cover":null,"content":"<h2 id=\"Vue2\"><a href=\"#Vue2\" class=\"headerlink\" title=\"Vue2\"></a>Vue2</h2><h3 id=\"进入页面默认查找动态生成的内容，查找结果为空\"><a href=\"#进入页面默认查找动态生成的内容，查找结果为空\" class=\"headerlink\" title=\"进入页面默认查找动态生成的内容，查找结果为空\"></a>进入页面默认查找动态生成的内容，查找结果为空</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>首先，查找元素应该在<code>mounted</code>生命周期中，因为此时页面已经完成渲染，其次，动态生成的元素，如果其数据是异步获取，应该在获取到以后，进行查找，并使用<code>Vue</code>实例的方法<code>$nextTick();</code> 因为此时数据获取到了，但页面内容并未渲染，在下一帧时才进行渲染</p></blockquote>\n<h3 id=\"父组件生命周期钩子执行顺序\"><a href=\"#父组件生命周期钩子执行顺序\" class=\"headerlink\" title=\"父组件生命周期钩子执行顺序\"></a>父组件生命周期钩子执行顺序</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>从外到内再从内到外<br>父组建： beforeCreate -&gt; created -&gt; beforeMount<br>子组件： -&gt; beforeCreate -&gt; created -&gt; beforeMount -&gt; mounted<br>父组件： -&gt; mounted</p></blockquote>\n<h2 id=\"Vue3\"><a href=\"#Vue3\" class=\"headerlink\" title=\"Vue3\"></a>Vue3</h2><h3 id=\"Vue3声明对象或数组后，不失去响应的赋值方式\"><a href=\"#Vue3声明对象或数组后，不失去响应的赋值方式\" class=\"headerlink\" title=\"Vue3声明对象或数组后，不失去响应的赋值方式\"></a><code>Vue3</code>声明对象或数组后，不失去响应的赋值方式</h3><p>源代码：</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">let array: number[] &#x3D; reactive([]);\t\t\t&#x2F;&#x2F; proxy...\narray &#x3D; reactive([]);\t\t\t&#x2F;&#x2F; proxy...\narray &#x3D; [];\t\t\t&#x2F;&#x2F; [ ]</code></pre>\n\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">提示</p>\n<p>可见，直接赋值[ ]，会让变量失去响应，再次赋值reactive()又不符合规范</p>\n</div>\n<h4 id=\"解决方式1\"><a href=\"#解决方式1\" class=\"headerlink\" title=\"解决方式1\"></a>解决方式1</h4><p><code>Object.assign</code>函数的原理是遍历所有可枚举和自有属性从源对象赋值到目标对象</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const array: number &#x3D; reactive([]);\nObject.assign(array, [1,2,3]);</code></pre>\n\n<h4 id=\"解决方式2\"><a href=\"#解决方式2\" class=\"headerlink\" title=\"解决方式2\"></a>解决方式2</h4><p>使用状态机管理代理对象</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const state: IState &#x3D; reactive(&#123;\n    array: []\n&#125;);\nstate.array &#x3D; [];</code></pre>\n\n<h3 id=\"Vue3样式穿透\"><a href=\"#Vue3样式穿透\" class=\"headerlink\" title=\"Vue3样式穿透\"></a><code>Vue3</code>样式穿透</h3><div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">注意</p>\n<p>1.<code>&lt;style&gt;</code>标签设置scoped属性<br>2.使用<code>:(deep):</code><br>3.<code>html</code>元素及<code>css</code>选择器均不能为根节点</p>\n</div>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;main&gt;\n    &lt;xxx&gt;&lt;&#x2F;xxx&gt;\n&lt;&#x2F;main&gt;</code></pre>\n<pre class=\"line-numbers language-scss\" data-language=\"scss\"><code class=\"language-scss\">main &#123;\n    :deep(.xxx) &#123;\n        width: 12px;\n        height: 12px;\n        border-radius: 50%;\n    &#125;\n&#125;</code></pre>\n\n<h3 id=\"Vue3设置子组件样式在父级无法穿透\"><a href=\"#Vue3设置子组件样式在父级无法穿透\" class=\"headerlink\" title=\"Vue3设置子组件样式在父级无法穿透\"></a><code>Vue3</code>设置子组件样式在父级无法穿透</h3><p>组件最外层级嵌套一层<code>div</code></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;div&gt;\n    &lt;main&gt;\n\n    &lt;&#x2F;main&gt;\n&lt;&#x2F;div&gt;</code></pre>","text":"Vue2进入页面默认查找动态生成的内容，查找结果为空 首先，查找元素应该在mounted生命周期中，因为此时页面已经完成渲染，其次，动态生成的元素，如果其数据是异步获取，应该在获取到以后，进行查找，并使用Vue实例的方法$nextTick(); 因为此时数据获取到了，但页面内容并...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"bug","slug":"bug","count":6,"path":"api/categories/bug.json"}],"tags":[{"name":"bug","slug":"bug","count":6,"path":"api/tags/bug.json"},{"name":"vue","slug":"vue","count":1,"path":"api/tags/vue.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Vue2\"><span class=\"toc-text\">Vue2</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BF%9B%E5%85%A5%E9%A1%B5%E9%9D%A2%E9%BB%98%E8%AE%A4%E6%9F%A5%E6%89%BE%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%8C%E6%9F%A5%E6%89%BE%E7%BB%93%E6%9E%9C%E4%B8%BA%E7%A9%BA\"><span class=\"toc-text\">进入页面默认查找动态生成的内容，查找结果为空</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%88%B6%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F\"><span class=\"toc-text\">父组件生命周期钩子执行顺序</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Vue3\"><span class=\"toc-text\">Vue3</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Vue3%E5%A3%B0%E6%98%8E%E5%AF%B9%E8%B1%A1%E6%88%96%E6%95%B0%E7%BB%84%E5%90%8E%EF%BC%8C%E4%B8%8D%E5%A4%B1%E5%8E%BB%E5%93%8D%E5%BA%94%E7%9A%84%E8%B5%8B%E5%80%BC%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">Vue3声明对象或数组后，不失去响应的赋值方式</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E5%BC%8F1\"><span class=\"toc-text\">解决方式1</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E5%BC%8F2\"><span class=\"toc-text\">解决方式2</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Vue3%E6%A0%B7%E5%BC%8F%E7%A9%BF%E9%80%8F\"><span class=\"toc-text\">Vue3样式穿透</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Vue3%E8%AE%BE%E7%BD%AE%E5%AD%90%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F%E5%9C%A8%E7%88%B6%E7%BA%A7%E6%97%A0%E6%B3%95%E7%A9%BF%E9%80%8F\"><span class=\"toc-text\">Vue3设置子组件样式在父级无法穿透</span></a></li></ol></li></ol>","author":{"name":"Life Experiencer","slug":"blog-author","avatar":"https://meng160626.github.io/charts/assets/headshot.cf6ae831.jpg","link":"/","description":"【开始努力最好的时机，就是当下】QQ:1350257855      微信:meng000414","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Element bug记录","uid":"fd888ffbf7087b4ba83a165597c715b7","slug":"Element-bug记录/index","date":"2021-08-16T16:00:00.000Z","updated":"2023-04-06T06:05:23.995Z","comments":true,"path":"api/articles/Element-bug记录/index.json","keywords":null,"cover":null,"text":"Element.ui使用el-tree组件，一键展开或关闭expandAll() &#123; for (let key in this.$refs.tree.store.nodesMap) &#123; this.$refs.tree.store.nodesMap[key].e...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"bug","slug":"bug","count":6,"path":"api/categories/bug.json"}],"tags":[{"name":"bug","slug":"bug","count":6,"path":"api/tags/bug.json"},{"name":"element","slug":"element","count":1,"path":"api/tags/element.json"}],"author":{"name":"Life Experiencer","slug":"blog-author","avatar":"https://meng160626.github.io/charts/assets/headshot.cf6ae831.jpg","link":"/","description":"【开始努力最好的时机，就是当下】QQ:1350257855      微信:meng000414","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Vue双向绑定","uid":"c61e32720888e2dc2db1b3a1cf94defc","slug":"Vue双向绑定/index","date":"2021-01-19T16:00:00.000Z","updated":"2023-05-08T09:15:50.030Z","comments":true,"path":"api/articles/Vue双向绑定/index.json","keywords":null,"cover":null,"text":"前言 Vue的双向绑定指的是v-model指令，而Vue实际是单向数据流单双向绑定指的是View层和Model层之间的映射关系react采取的是单向绑定Vue的v-model双向绑定实际上只是v-bind:value和v-on:input的语法糖（子组件不能直接修改父组件的属性值...","link":"","photos":[],"count_time":{"symbolsCount":615,"symbolsTime":"1 mins."},"categories":[{"name":"知识点","slug":"知识点","count":5,"path":"api/categories/知识点.json"}],"tags":[{"name":"Vue","slug":"Vue","count":1,"path":"api/tags/Vue.json"},{"name":"Vue双向绑定","slug":"Vue双向绑定","count":1,"path":"api/tags/Vue双向绑定.json"}],"author":{"name":"Life Experiencer","slug":"blog-author","avatar":"https://meng160626.github.io/charts/assets/headshot.cf6ae831.jpg","link":"/","description":"【开始努力最好的时机，就是当下】QQ:1350257855      微信:meng000414","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}