{"title":"防抖和节流","uid":"8091d222d8427423209f6c7e976395c4","slug":"防抖和节流/index","date":"2022-06-01T16:00:00.000Z","updated":"2023-05-08T09:39:57.042Z","comments":true,"path":"api/articles/防抖和节流/index.json","keywords":null,"cover":null,"content":"<h3 id=\"防抖\"><a href=\"#防抖\" class=\"headerlink\" title=\"防抖\"></a>防抖</h3><div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">场景</p>\n<p>所谓防抖，就是指触发事件后 n 秒后才执行函数，如果在 n 秒内又触发了事件，则会重新计算函数执行时间。</p>\n</div>\n<h4 id=\"非立即执行版本\"><a href=\"#非立即执行版本\" class=\"headerlink\" title=\"非立即执行版本\"></a>非立即执行版本</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function debounce(func, wait) &#123;\n    let timeout;\n    return function() &#123;\n        const context &#x3D; this;\n        const args &#x3D; [...arguments];\n        &#x2F;&#x2F; 如果当前已经存在延时函数，则重新计时\n        if (timeout) clearTimeout(timeout);\n        timeout &#x3D;  setTimeout(() &#x3D;&gt; &#123;\n            func.apply(context, args);\n        &#125;, wait);\n    &#125;\n&#125;</code></pre>\n\n<h4 id=\"立即执行版\"><a href=\"#立即执行版\" class=\"headerlink\" title=\"立即执行版\"></a>立即执行版</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function debounce(func, wait) &#123;\n    let timeout;\n    return function () &#123;\n        const context &#x3D; this;\n        const args &#x3D; [...arguments];\n        if (timeout) clearTimeout(timeout);\n        const callNow &#x3D; !timeout;\n        timeout &#x3D; setTimeout(() &#x3D;&gt; &#123;\n            timeout &#x3D; null;\n        &#125;, wait);\n        if (callNow) func.apply(context, args);\n    &#125;;\n&#125;</code></pre>\n\n<h3 id=\"节流\"><a href=\"#节流\" class=\"headerlink\" title=\"节流\"></a>节流</h3><div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">场景</p>\n<p>所谓节流，就是指连续触发事件但是在 n 秒中只执行一次函数，节流会稀释函数的执行频率。</p>\n</div>\n<h4 id=\"时间戳\"><a href=\"#时间戳\" class=\"headerlink\" title=\"时间戳\"></a>时间戳</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function throttle(func, wait) &#123;\n    var previous &#x3D; 0;\n    return function() &#123;\n        let now &#x3D; Date.now();\n        let context &#x3D; this;\n        let args &#x3D; arguments;\n        if (now - previous &gt; wait) &#123;\n            func.apply(context, args);\n            previous &#x3D; now;\n        &#125;\n    &#125;\n&#125;\ncontent.onmousemove &#x3D; throttle(count,1000);</code></pre>\n\n<h4 id=\"定时器\"><a href=\"#定时器\" class=\"headerlink\" title=\"定时器\"></a>定时器</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function throttle(func, wait) &#123;\n    let timeout;\n    return function() &#123;\n        let context &#x3D; this;\n        let args &#x3D; arguments;\n        if (!timeout) &#123;\n            timeout &#x3D; setTimeout(() &#x3D;&gt; &#123;\n                timeout &#x3D; null;\n                func.apply(context, args)\n            &#125;, wait)\n        &#125;\n\n    &#125;\n&#125;</code></pre>","text":"防抖 场景 所谓防抖，就是指触发事件后 n 秒后才执行函数，如果在 n 秒内又触发了事件，则会重新计算函数执行时间。 非立即执行版本function debounce(func, wait) &#123; let timeout; return function() &#123;...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"效率优化","slug":"效率优化","count":5,"path":"api/categories/效率优化.json"}],"tags":[{"name":"防抖","slug":"防抖","count":1,"path":"api/tags/防抖.json"},{"name":"节流","slug":"节流","count":1,"path":"api/tags/节流.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%98%B2%E6%8A%96\"><span class=\"toc-text\">防抖</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%9D%9E%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">非立即执行版本</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E7%89%88\"><span class=\"toc-text\">立即执行版</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%8A%82%E6%B5%81\"><span class=\"toc-text\">节流</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%97%B6%E9%97%B4%E6%88%B3\"><span class=\"toc-text\">时间戳</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%9A%E6%97%B6%E5%99%A8\"><span class=\"toc-text\">定时器</span></a></li></ol></li></ol>","author":{"name":"Life Experiencer","slug":"blog-author","avatar":"https://meng160626.github.io/charts/assets/headshot.cf6ae831.jpg","link":"/","description":"【开始努力最好的时机，就是当下】QQ:1350257855      微信:meng000414","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"前端压缩","uid":"77f748c7cea4ef5fb4d783ef512007b4","slug":"前端压缩/index","date":"2022-07-01T16:00:00.000Z","updated":"2023-04-07T05:36:31.932Z","comments":true,"path":"api/articles/前端压缩/index.json","keywords":null,"cover":null,"text":"1.引入JSZip&lt;script src&#x3D;&quot;jszip.js&quot;&gt;&lt;&#x2F;script&gt; &lt;script src&#x3D;&quot;jszip-utils.js&quot;&gt;&lt;&#x2F;script...","link":"","photos":[],"count_time":{"symbolsCount":"3.9k","symbolsTime":"4 mins."},"categories":[{"name":"工具类","slug":"工具类","count":3,"path":"api/categories/工具类.json"}],"tags":[{"name":"压缩","slug":"压缩","count":1,"path":"api/tags/压缩.json"}],"author":{"name":"Life Experiencer","slug":"blog-author","avatar":"https://meng160626.github.io/charts/assets/headshot.cf6ae831.jpg","link":"/","description":"【开始努力最好的时机，就是当下】QQ:1350257855      微信:meng000414","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Web基础 bug记录","uid":"e731b129ad8438b546830de537cc0a95","slug":"Web基础-bug记录/index","date":"2022-05-16T16:00:00.000Z","updated":"2023-04-06T05:38:16.887Z","comments":true,"path":"api/articles/Web基础-bug记录/index.json","keywords":null,"cover":null,"text":"使用iFrame时，内嵌页面出现滚动条且高度不对 原因：和img出现在div时一致，因为iFrame是行内元素，基线原因导致 ","link":"","photos":[],"count_time":{"symbolsCount":71,"symbolsTime":"1 mins."},"categories":[{"name":"bug","slug":"bug","count":6,"path":"api/categories/bug.json"}],"tags":[{"name":"bug","slug":"bug","count":6,"path":"api/tags/bug.json"},{"name":"web前端基础","slug":"web前端基础","count":1,"path":"api/tags/web前端基础.json"}],"author":{"name":"Life Experiencer","slug":"blog-author","avatar":"https://meng160626.github.io/charts/assets/headshot.cf6ae831.jpg","link":"/","description":"【开始努力最好的时机，就是当下】QQ:1350257855      微信:meng000414","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}